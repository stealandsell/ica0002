#mysql_host: "{{ hostvars['stealandsell-2']['ansible_default_ipv4']['address'] }}"
#mysql_host_var: stealandsell-1
mysql_host: stealandsell-2
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama


vm1_ip: "{{ hostvars['stealandsell-1']['ansible_default_ipv4']['address'] }}"
vm2_ip: "{{ hostvars['stealandsell-2']['ansible_default_ipv4']['address'] }}"

mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261
          
mysql_ex_u: prometheus
mysql_ex_p: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261
          
grafana_p: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261
          
          
backup_u: backup
backup_p: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261
          
mysql_replication_u : replication
mysql_replication_p : !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261

keepalived_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261
          
haproxy_u: prometheus
haproxy_p: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333432636335353830313131323564353832343065366535356439643237613237633461326161
          3436666663306639613438353034616163383938666139300a393536656336373631366530643835
          37393732666235373430366333363962326665643932643766336332393238613438323564396133
          3136323431323662660a643464396665633130643138306564323135663530346363326366643339
          6261

dns_transfer_key_name: transfer
dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66303738393764386436396132366331666461323932343035363238656666633064646533643334
          3433653238363731316536366266323463333336663737350a646333373766316564313630316331
          66643665323330393062643134663765386335666137366235323530363836353165353832616532
          6662623433383262310a373663353532366333396365326335306336346230336139636235343935
          62626166343931656533646163323934326332643935306561356536396339356634633464323664
          3966643563343965356531636366653539626133303264303231

dns_update_key_name: nsupdate
dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64656435343435643537373661346533313162393332383239393964316439353033323763653437
          6433656533323638316331383632663731643264316336300a333561363836613366653861643638
          61653264626637376365323032373131636532396266666532343230366434633033363962393238
          6561623836303766660a313335646561393238653966393030376263636534666639666434393730
          64336439626563353466636561313330643238353338336262663666333339643161383435356633
          3636653039323764663439646339323766386163303664656165

startup_name: gamblinggreats.io
github: stealandsell

backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

ssh_ip: 193.40.156.67
localhost: 127.0.0.1
backup_ip: 192.168.42.132

vm1_port: 17380
#vm2_port: "{{ hostvars['stealandsell-2']['ansible_default_ipv4']['address'].split('.')[3] }}80"

#vm2_port: "{{ hostvars['stealandsell-2'].ansible_port.split('.')[3] }}80"}"
vm2_port: 10680	


node_id: "{{ (ansible_port / 100) | int }}"

grafana_port: 3001
pinger_port: 8086
rsyslog_port: 6514

agama_per_vm: 2
agama_start_port: 8000

haproxy_port: 88

prometheus_exporters:
  node:
    port: 9100
  nginx:
    port: 9113
  mysql:
    port: 9104
  bind:
    port: 9119
  influxdb:
    port: 9424
  haproxy:
    port: 9101
  keepalived:
    port: 9165
    
dns_a_records:
  backup: 192.168.42.132
  
dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  haproxy1: "{{ groups['haproxy'][0] }}"
  haproxy2: "{{ groups['haproxy'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  agama1: "{{ groups['agama'][0] }}"
  agama2: "{{ groups['agama'][1] }}"
  dns1: "{{ groups['dns_servers'][0] }}"
  dns2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"
  rsyslog1: "{{ groups['rsyslog'][0] }}"
  rsyslog2: "{{ groups['rsyslog'][1] }}"
  keepalived1: "{{ groups['keepalived'][0] }}"
  keepalived2: "{{ groups['keepalived'][1] }}"
  

